<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Lylo. — AI for solicitors</title>
<meta name="description" content="Works without internet. Built for security and trust. ET1 and Schedule of Loss drafting.">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#0A1220; --bg-soft:#0D1729;
    --text:#F5F7FA; --muted:#C7CCD7;
    --cta:#111722; --radius:20px; --space:22px; --container:1360px;
    --accent:#54a0ff; --lm-size:36px;
    --timeline-h:14px;
    --timeline-track:rgba(245,247,250,.22);
    --timeline-buffer:rgba(245,247,250,.35);
    --timeline-progress:linear-gradient(90deg, rgba(84,160,255,0.95), rgba(84,160,255,0.7));
    --font:-apple-system, BlinkMacSystemFont,"SF Pro Display","SF Pro Text","Helvetica Neue","Segoe UI",Roboto,Arial,sans-serif;
    --bg-top:#0A1220; --bg-bottom:#080D18;
    --noise:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mO0WQ8AAW0B8w1i6b0AAAAASUVORK5CYII=");
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;font-family:var(--font);color:var(--text);
    -webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;
    background:none;position:relative;min-height:100svh;display:flex;flex-direction:column;
  }
  main{flex:1;display:flex;}

  body::before{
    content:"";position:fixed;inset:0;pointer-events:none;z-index:-1;
    background:
      radial-gradient(1200px 700px at 70% -10%, rgba(84,160,255,.08), transparent 70%),
      radial-gradient(900px 600px at -10% 30%, rgba(25,195,125,.07), transparent 70%),
      linear-gradient(to bottom,var(--bg-top) 0%,var(--bg-top) 40%,var(--bg-bottom) 100%);
  }
  body::after{content:"";position:fixed;inset:0;pointer-events:none;background-image:var(--noise);opacity:.05;mix-blend-mode:soft-light;}

  /* Header */
  header.site-header{
    position:fixed; top:0; left:0; right:0; z-index:1000; height:64px;
    background:linear-gradient(180deg, var(--bg-soft) 0%, #0B1526 100%);
    border-bottom:1px solid rgba(255,255,255,.08);
    display:flex; align-items:center; justify-content:center;
    box-shadow:0 1px 0 rgba(255,255,255,0.06);
  }
  .header-inner{width:100%; max-width:var(--container);padding:0 16px; display:flex; align-items:center; justify-content:space-between;}
  .logo-small{font-family:'Cormorant Garamond', serif;font-weight:600; font-size:26px; letter-spacing:-.02em;color:var(--text); text-decoration:none;}

  /* Hamburger */
  .hamburger{width:40px; height:36px; position:relative; cursor:pointer;display:flex; align-items:center; justify-content:center;border:none; background:none; padding:0;}
  .hamburger:focus-visible{ outline:2px solid rgba(84,160,255,.45); border-radius:8px; }
  .hamburger .line{position:absolute; width:22px; height:2px; background:var(--text);border-radius:2px; transition:transform .25s ease, opacity .2s ease, width .2s ease;}
  .hamburger .line.top{ transform:translateY(-6px); }
  .hamburger .line.middle{ transform:translateY(0); }
  .hamburger .line.bottom{ transform:translateY(6px); }
  .hamburger[aria-expanded="true"] .line.top{ transform:rotate(45deg); }
  .hamburger[aria-expanded="true"] .line.middle{ opacity:0; }
  .hamburger[aria-expanded="true"] .line.bottom{ transform:rotate(-45deg); }

  /* Mobile menu */
  .nav-panel{position:fixed; inset:0; z-index:999;background:var(--bg); display:none;}
  .nav-panel.open{ display:block; }
  .nav-panel .panel-inner{max-width:var(--container); margin:0 auto; height:100%;padding:88px 20px 24px; display:flex; flex-direction:column; gap:22px;}
  .nav-panel a{color:var(--text); text-decoration:none;font-weight:600; font-size:22px; letter-spacing:0.01em;padding:14px 2px; border-bottom:1px solid rgba(255,255,255,.08);}

  /* Hero */
  .wrap{
    width:100%;max-width:var(--container);margin:auto;
    padding:calc(64px + 60px) var(--space) clamp(28px,4vh,60px);
    display:grid; justify-items:center; gap:0;
  }
  @media(min-width:980px){
    .wrap{
      grid-template-columns: 1fr 1.35fr; align-items:center;
      grid-template-areas:"logo visual" "tagline visual" "bullets visual" "cta visual" "note visual";
    }
  }
  @media(max-width:979px){
    :root{
      --radius:16px;
      --space:18px;
      --lm-size:30px;
      --timeline-h:10px;
    }
    header.site-header{ height:56px; }
    .wrap{
      grid-template-columns:1fr;
      grid-template-areas:"logo" "tagline" "visual" "bullets" "cta" "note";
      padding:calc(56px + 16px) var(--space) 28px;
      gap:8px;
    }
  }

  .logo{grid-area:logo; font-family:'Cormorant Garamond', serif;font-weight:600; font-size:88px; letter-spacing:-.03em; line-height:1;text-align:center; margin:0 0 12px;}
  .tagline{grid-area:tagline; font-family:var(--font);font-size:28px; line-height:1.4; letter-spacing:-0.01em;font-weight:400; text-align:center; margin:0 0 30px;}
  .bullets{grid-area:bullets;list-style:none;padding:0;display:grid;gap:12px;justify-content:center;max-width:640px;text-align:center;margin:0 0 20px;}
  .bullet{font-family:var(--font);font-size:17px;line-height:1.55;max-width:440px;margin:0 auto;}
  @media(max-width:979px){
    .logo{ font-size:58px; margin-bottom:6px; }
    .tagline{ font-size:22px; margin-bottom:16px; }
    .bullets{ gap:10px; margin-bottom:14px; }
    .bullet{ font-size:16px; line-height:1.5; }
  }

  /* CTA */
  .cta{
    grid-area:cta; display:inline-block; padding:12px 20px;
    font-weight:600; font-size:16px; color:var(--text);
    border:1px solid transparent; border-radius:var(--radius);
    background:
      linear-gradient(180deg,#111722 0%, #0C1423 100%) padding-box,
      conic-gradient(from 0deg,#ff6b6b,#feca57,#1dd1a1,#54a0ff,#5f27cd,#ff6b6b) border-box;
    background-size:200% 200%; text-decoration:none; cursor:pointer;
    outline:2px solid rgba(84,160,255,.18); outline-offset:2px;
    box-shadow:inset 0 1px 0 rgba(255,255,255,.10), 0 6px 20px rgba(0,0,0,.45);
    margin:0 auto 10px; transition: transform .25s, box-shadow .25s, background-position 1.2s, opacity .2s;
  }
  .cta:hover{transform:translateY(-1px);box-shadow:inset 0 1px 0 rgba(255,255,255,.10), 0 10px 28px rgba(0,0,0,.5);background-position:100% 0;}

  .note{grid-area:note;color:var(--muted);font-size:13px;margin:4px 0 0;text-align:center;}
  @media(max-width:979px){ .note{ font-size:12px; } }

  /* Video */
  .visual{grid-area:visual;display:flex;align-items:center;justify-content:center;width:100%;margin:8px 0 20px;}
  .video-wrapper{
    position:relative;width:100%;max-width:900px;background:#000;
    border-radius:calc(var(--radius) - 4px);overflow:hidden;
    box-shadow:0 20px 50px rgba(0,0,0,.5);
  }
  .video-wrapper video{position:relative; z-index:1; width:100%;height:auto;max-height:62vh;display:block;object-fit:cover;border-radius:0;}
  @media(max-width:979px){
    .video-wrapper{
      border-radius:14px;
      box-shadow:0 12px 28px rgba(0,0,0,.45);
      border:1px solid rgba(245,247,250,0.16);
    }
  }

  /* Controls */
  .control-bar{
    position:absolute; left:10px; right:10px;
    bottom:calc(10px + env(safe-area-inset-bottom));
    z-index:9999;
    display:flex; align-items:center; gap:10px;
    opacity:0; pointer-events:none;
    transition:opacity .18s ease;
  }
  .video-wrapper.show-controls .control-bar{ opacity:1; pointer-events:auto; }
  @media (hover:hover){
    .video-wrapper:not(:fullscreen):hover .control-bar{ opacity:1; pointer-events:auto; }
  }

  .pause-btn, .fullscreen-btn{
    background:rgba(17,23,34,.74); color:var(--text);
    font-size:20px; font-weight:600; line-height:1;
    padding:8px 12px; border:none; border-radius:12px;
    cursor:pointer; transition:background .2s, transform .06s, box-shadow .2s, opacity .18s;
    border:1px solid rgba(255,255,255,.22);
    backdrop-filter:blur(6px) saturate(120%); box-shadow:0 6px 22px rgba(0,0,0,.55);
  }
  .pause-btn:hover, .fullscreen-btn:hover{ background:rgba(17,23,34,.92); transform:translateY(-1px); }

  .timeline{
    flex:1 1 auto; display:flex; align-items:center; height:var(--timeline-h); user-select:none; touch-action:none;
  }
  .timeline .track{
    position:relative; width:100%; height:var(--timeline-h); border-radius:999px; overflow:hidden;
    background:linear-gradient(180deg, rgba(245,247,250,.18), rgba(245,247,250,.12));
    box-shadow:inset 0 1px 0 rgba(0,0,0,.35);
  }
  .timeline .buffer{position:absolute; left:0; top:0; bottom:0; width:0%; background:rgba(245,247,250,.28);}
  .timeline .progress{position:absolute; left:0; top:0; bottom:0; width:0%; background:var(--timeline-progress);}
  .timeline .handle{ display:none; }

  @media(max-width:979px){
    .pause-btn, .fullscreen-btn{
      font-size:15px; padding:6px 9px; border-radius:10px; box-shadow:0 4px 14px rgba(0,0,0,.45);
    }
    .control-bar{ left:8px; right:8px; gap:8px; }
  }

  /* "i" pill */
  .learnmore-btn{
    position:absolute;top:10px;right:10px;z-index:3;
    display:inline-flex;align-items:center;justify-content:center;
    width:var(--lm-size); height:var(--lm-size); padding:0; gap:0;
    border-radius:999px;font-size:14px;font-weight:600;text-decoration:none;color:var(--text);
    background:rgba(17,23,34,0.6);backdrop-filter:blur(4px) saturate(115%);
    border:1px solid rgba(84,160,255,0.35);box-shadow:0 0 4px rgba(84,160,255,0.22);
    transition:width .25s ease,height .25s ease,padding .25s ease,gap .25s ease,background .25s ease;
  }
  .learnmore-btn svg{flex:0 0 auto;display:block;opacity:.95}
  .learnmore-btn .label{display:inline-block;overflow:hidden;white-space:nowrap;max-width:0;opacity:0;margin-left:0;transition:max-width .35s ease, opacity .25s ease, margin-left .25s ease;}
  .learnmore-btn.expanded,.learnmore-btn:hover,.learnmore-btn:focus-visible{width:auto;height:var(--lm-size);padding:6px 12px;gap:6px;}
  .learnmore-btn.expanded .label,.learnmore-btn:hover .label,.learnmore-btn:focus-visible .label{max-width:120px;opacity:1;margin-left:2px;}
  .learnmore-btn:hover{background:rgba(17,23,34,0.8);}

  /* Fullscreen */
  .video-wrapper:fullscreen,.video-wrapper:-webkit-full-screen{width:100vw;height:100vh;max-width:none;border-radius:0;}
  .video-wrapper:fullscreen video,.video-wrapper:-webkit-full-screen video{width:100%;height:100%;max-height:none;object-fit:contain;border-radius:0;box-shadow:none;}
  .video-wrapper:fullscreen .learnmore-btn,.video-wrapper:-webkit-full-screen .learnmore-btn{ display:none; }

  .video-wrapper:fullscreen::after,
  .video-wrapper:-webkit-full-screen::after{
    content:""; position:absolute; left:0; right:0; bottom:0; height:120px;
    background:linear-gradient(to top, rgba(0,0,0,.65), rgba(0,0,0,0));
    pointer-events:none; z-index:2;
  }

  footer{text-align:center;padding:20px 0;border-top:1px solid rgba(255,255,255,.06);color:var(--muted);font-size:14px;}
  @media(max-width:979px){ footer{ padding:16px 0; font-size:13px; } }
  .learnmore-btn {
  display: none !important;
</style>
</head>
<body>

<header class="site-header" role="banner">
  <div class="header-inner">
    <a href="/" class="logo-small">Lylo.</a>
    <button class="hamburger" id="hamburger" aria-label="Open menu" aria-controls="mobileMenu" aria-expanded="false">
      <span class="line top"></span><span class="line middle"></span><span class="line bottom"></span>
    </button>
  </div>
</header>

<nav class="nav-panel" id="mobileMenu" aria-hidden="true">
  <div class="panel-inner"><a href="/research">Survey</a></div>
</nav>

<main>
  <div class="wrap">
    <h1 class="logo">Lylo.</h1>
    <p class="tagline">Offline, secure AI for solicitors.</p>

    <aside class="visual">
      <div class="video-wrapper" id="videoWrapper">
        <video id="lyloVideo" autoplay loop muted playsinline webkit-playsinline preload="metadata"
          poster="/static/poc.jpg" aria-label="Demo video showing Lylo drafting a Schedule of Loss.">
          <source src="/static/poc.mp4" type="video/mp4">
          <source src="/static/poc.webm" type="video/webm">
          <img src="/static/poc.jpg" alt="Lylo demo fallback image">
        </video>

        <a href="/demo" class="learnmore-btn" id="learnMoreBtn" aria-label="Learn more about this demo">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.6" opacity="0.9"/>
            <path d="M12 17v-6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
            <circle cx="12" cy="7.5" r="1.2" fill="currentColor"/>
          </svg>
          <span class="label">Learn more</span>
        </a>

        <!-- Controls bar -->
        <div class="control-bar" id="controlBar">
          <button class="pause-btn" id="pauseToggle" aria-label="Pause" type="button">❚❚</button>
          <div class="timeline" id="videoTimeline" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-label="Video progress">
            <div class="track" id="tlTrack">
              <div class="buffer" id="tlBuffer"></div>
              <div class="progress" id="tlProgress"></div>
              <div class="handle" aria-hidden="true"></div>
            </div>
          </div>
          <button class="fullscreen-btn" id="fullscreenToggle" aria-label="Enter fullscreen" type="button">⤢</button>
        </div>
      </div>
    </aside>

    <ul class="bullets">
      <li class="bullet">Retrieval based chat system, featuring specialist modules for Employment Law to support drafting Statements of Fact, ET1s, and Schedules of Loss.</li>
    </ul>

    <a href="/research" class="cta" id="joinCta">Join the waitlist</a>
    <div class="note">In development stages. Register interest.</div>
  </div>
</main>

<footer>
  &copy; <script>document.write(new Date().getFullYear())</script> Lylo. All rights reserved.
</footer>

<script>
  /* ===== Mobile menu ===== */
  const hamburger = document.getElementById('hamburger');
  const mobileMenu = document.getElementById('mobileMenu');
  function setMenu(open){
    hamburger.setAttribute('aria-expanded', open ? 'true' : 'false');
    mobileMenu.classList.toggle('open', open);
    mobileMenu.setAttribute('aria-hidden', open ? 'false' : 'true');
    document.body.style.overflow = open ? 'hidden' : '';
  }
  hamburger.addEventListener('click', () => setMenu(hamburger.getAttribute('aria-expanded') !== 'true'));

  /* ===== “Learn more” pill ===== */
  const learnMoreBtn = document.getElementById('learnMoreBtn');
  const learnMoreLabel = learnMoreBtn.querySelector('.label');
  function openLabel(){learnMoreBtn.classList.add('expanded'); const w=learnMoreLabel.scrollWidth; learnMoreLabel.style.maxWidth=w+'px'; learnMoreLabel.style.opacity='1'; learnMoreLabel.style.marginLeft='2px';}
  function closeLabel(){learnMoreLabel.style.maxWidth='0px'; learnMoreLabel.style.opacity='0'; learnMoreLabel.style.marginLeft='0'; learnMoreBtn.classList.remove('expanded');}
  function expandCycle(){openLabel(); setTimeout(()=>{ if(!learnMoreBtn.matches(':hover,:focus,:focus-visible')) closeLabel(); }, 4000);}
  setTimeout(()=>{ expandCycle(); setInterval(expandCycle, 25000); }, 7000);
  learnMoreBtn.addEventListener('mouseenter', openLabel);
  learnMoreBtn.addEventListener('focus', openLabel);
  learnMoreBtn.addEventListener('mouseleave', closeLabel);
  learnMoreBtn.addEventListener('blur', closeLabel);

  /* ===== Video & Controls ===== */
  const wrapper = document.getElementById('videoWrapper');
  const video = document.getElementById('lyloVideo');
  const controlBar = document.getElementById('controlBar');
  const pauseBtn = document.getElementById('pauseToggle');
  const fsBtn = document.getElementById('fullscreenToggle');

  function isFS(){ return !!(document.fullscreenElement || document.webkitFullscreenElement); }

  function showControls(ms = 1500){
    wrapper.classList.add('show-controls');
    if (!isFS()){
      clearTimeout(showControls._t);
      showControls._t = setTimeout(()=>wrapper.classList.remove('show-controls'), ms);
    }
  }
  function hideControls(){
    wrapper.classList.remove('show-controls');
    clearTimeout(showControls._t);
  }

  // Initial reveal briefly
  requestAnimationFrame(()=> showControls(1200));

  // Wrapper toggle — pointerdown only to avoid double toggles
  function onWrapperPointerDown(e){
    if (controlBar.contains(e.target)) return;
    if (isFS()){
      if (wrapper.classList.contains('show-controls')) hideControls(); else showControls(0);
    } else {
      if (wrapper.classList.contains('show-controls')) hideControls(); else showControls(1500);
    }
  }
  wrapper.addEventListener('pointerdown', onWrapperPointerDown, {passive:false});

  // Hide if clicking outside
  document.addEventListener('pointerdown', (e) => {
    if (wrapper.classList.contains('show-controls') && !wrapper.contains(e.target)) hideControls();
  });

  // Pause/Play
  function updatePause(){
    pauseBtn.textContent = video.paused ? '▶' : '❚❚';
    pauseBtn.setAttribute('aria-label', video.paused ? 'Play' : 'Pause');
  }
  function onPauseToggle(e){
    e.stopPropagation();
    if (video.paused) { video.play().catch(()=>{}); }
    else { video.pause(); }
    updatePause();
  }
  pauseBtn.addEventListener('pointerdown', onPauseToggle);
  pauseBtn.addEventListener('keydown', (e) => { if (e.key === ' ' || e.key === 'Enter'){ e.preventDefault(); onPauseToggle(e); }});

  // Fullscreen toggle
  function updateFSBtn(){
    fsBtn.textContent = isFS() ? '⤡' : '⤢';
    fsBtn.setAttribute('aria-label', isFS() ? 'Exit fullscreen' : 'Enter fullscreen');
  }
  async function onFSToggle(e){
    e.stopPropagation();
    try{
      if (isFS()){
        if (document.exitFullscreen) await document.exitFullscreen();
        else if (document.webkitExitFullscreen) await document.webkitExitFullscreen();
      } else {
        if (typeof video.webkitEnterFullscreen === 'function'){ video.webkitEnterFullscreen(); }
        else if (wrapper.requestFullscreen){ await wrapper.requestFullscreen(); }
        else if (wrapper.webkitRequestFullscreen){ await wrapper.webkitRequestFullscreen(); }
      }
    }catch(_){}
    updateFSBtn();
    hideControls(); // go hidden while entering FS
  }
  fsBtn.addEventListener('pointerdown', onFSToggle);

  // === NEW: Keep UI in sync when leaving fullscreen ===
  function syncUIAfterFSChange(){
    updateFSBtn();
    updatePause();
    // If we've just left fullscreen and the video is paused, show the Play button briefly.
    if (!isFS()){
      if (video.paused){ showControls(1800); }
      else { hideControls(); }
    }
  }
  document.addEventListener('fullscreenchange', syncUIAfterFSChange);
  document.addEventListener('webkitfullscreenchange', syncUIAfterFSChange);
  video.addEventListener('webkitendfullscreen', syncUIAfterFSChange);  // iOS Safari
  video.addEventListener('webkitbeginfullscreen', () => { updateFSBtn(); hideControls(); });

  // Keep pause icon in sync with media state
  video.addEventListener('play', () => { updatePause(); if (!isFS()) showControls(1200); });
  video.addEventListener('pause', () => { updatePause(); if (!isFS()) showControls(1800); });

  // === Timeline ===
  const tl = document.getElementById('videoTimeline');
  const tlTrack = document.getElementById('tlTrack');
  const tlBuffer = document.getElementById('tlBuffer');
  const tlProgress = document.getElementById('tlProgress');

  function dur(){ const d = video.duration; return (Number.isFinite(d) && d > 0) ? d : 0; }
  function setProgressFromTime(t){ const d = dur(); const pct = d ? Math.max(0, Math.min(1, t/d)) : 0; tlProgress.style.width = (pct*100) + '%'; tl.setAttribute('aria-valuenow', Math.round(pct*100)); }
  function updateBuffer(){ try{ const d = dur(); if (!d || !video.buffered || video.buffered.length === 0){ tlBuffer.style.width='0%'; return; } let end = 0; for (let i=0;i<video.buffered.length;i++){ end = Math.max(end, video.buffered.end(i)); } tlBuffer.style.width = (Math.max(0, Math.min(1, end/d)) * 100) + '%'; }catch(_){ } }

  let rafId = null;
  function tick(){ setProgressFromTime(video.currentTime || 0); rafId = requestAnimationFrame(tick); }
  function startTick(){ if (!rafId) rafId = requestAnimationFrame(tick); }
  function stopTick(){ if (rafId){ cancelAnimationFrame(rafId); rafId=null; } }

  video.addEventListener('loadedmetadata', ()=>{ setProgressFromTime(0); updateBuffer(); });
  video.addEventListener('timeupdate', ()=> setProgressFromTime(video.currentTime||0));
  video.addEventListener('progress', updateBuffer);
  video.addEventListener('loadeddata', updateBuffer);
  video.addEventListener('playing', startTick);
  video.addEventListener('pause', stopTick);
  if (video.readyState >= 2) startTick(); else video.addEventListener('loadeddata', startTick, {once:true});

  // Scrubbing
  let scrubbing = false;
  function clientX(e){ if (e.touches?.length) return e.touches[0].clientX; if (e.changedTouches?.length) return e.changedTouches[0].clientX; return e.clientX; }
  function pctAt(e){ const r = tlTrack.getBoundingClientRect(); const x = Math.max(0, Math.min(r.width, clientX(e)-r.left)); return r.width ? x/r.width : 0; }
  function seekTo(p){ const d = dur(); if (!d) return; try{ video.currentTime = p * d; }catch(_){} }
  function onScrubStart(e){ e.preventDefault?.(); scrubbing = true; stopTick(); seekTo(pctAt(e)); showControls(0); }
  function onScrubMove(e){ if (!scrubbing) return; e.preventDefault?.(); seekTo(pctAt(e)); }
  function onScrubEnd(){ if (!scrubbing) return; scrubbing = false; startTick(); }

  tlTrack.addEventListener('pointerdown', onScrubStart);
  window.addEventListener('pointermove', onScrubMove);
  window.addEventListener('pointerup', onScrubEnd);
  tlTrack.addEventListener('touchstart', onScrubStart, {passive:false});
  window.addEventListener('touchmove', onScrubMove, {passive:false});
  window.addEventListener('touchend', onScrubEnd);
  window.addEventListener('touchcancel', onScrubEnd);

  // Try autoplay once ready
  (function bootPlay(){ const go=()=>video.play().catch(()=>{}); if (video.readyState>=2) go(); else video.addEventListener('loadeddata', go, {once:true}); })();

  /* CTA delay (mobile) — unchanged */
  const joinCta = document.getElementById('joinCta');
  const isMobile = window.matchMedia('(max-width: 979px)');
  const DELAY_MS = 900;
  if (joinCta){
    joinCta.addEventListener('click', (e) => {
      if (!isMobile.matches) return;
      if (joinCta.classList.contains('loading')) return;
      e.preventDefault();
      joinCta.classList.add('loading');
      joinCta.setAttribute('aria-busy','true');
      const href = joinCta.getAttribute('href') || '/';
      setTimeout(() => {
        joinCta.classList.remove('loading');
        joinCta.removeAttribute('aria-busy');
        window.location.href = href;
      }, DELAY_MS);
    }, { passive:false });
  }
</script>

</body>
</html>
